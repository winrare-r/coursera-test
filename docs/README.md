# Руководство пользователя

## Цели и функциональность
- **Назначение**: настольное приложение для обработки данных с возможностью выбора пресетов и анализа результатов по вкладкам.
- **Основные возможности**:
  - загрузка исходного файла через диалог выбора;
  - применение преднастроенных пресетов обработки (включая параметры кластеризации);
  - запуск пайплайна анализа и сохранение результатов;
  - просмотр результатов по вкладкам (сырые данные, предобработка, кластеры, логи);
  - управление путями сохранения и темой интерфейса.

## Поток работы пользователя
1. **Выбор файла** — через кнопку «Открыть» выберите исходный CSV/Excel/JSON-файл.
2. **Выбор пресета** — на панели настроек отметьте готовый пресет (набор параметров предобработки и DBSCAN).
3. **Запуск** — нажмите «Запустить», чтобы выполнить предобработку, кластеризацию и генерацию артефактов.
4. **Просмотр вкладок** — переключайтесь между вкладками «Предобработка», «Кластеры», «Визуализация» и «Логи» для изучения результатов.

## Системные требования
- **ОС**: Windows 10/11 (x64) или Linux (Ubuntu 22.04+).
- **Аппаратные ресурсы**: 8 ГБ RAM (рекомендуется 16 ГБ для крупных наборов), 1–2 ГБ свободного диска.
- **ПО**: Python 3.10+; для сборки .exe требуется Microsoft Visual C++ Build Tools на Windows.

## Установка зависимостей
1. Установите Python 3.10+.
2. Создайте виртуальное окружение: `python -m venv .venv && source .venv/bin/activate` (или `.venv\Scripts\activate` на Windows).
3. Установите зависимости: `pip install -r requirements.txt`.

## Сборка и упаковка
- **Windows (.exe)**: `pyinstaller --noconfirm --onefile --name app_name main.py`. Готовый файл появится в `dist/app_name.exe`.
- **Windows (.bat)**: создайте `run_app.bat` с содержимым:
  ```bat
  @echo off
  call .venv\Scripts\activate
  python main.py %*
  ```
  и поместите его рядом с `main.py`.
- **Linux**: `pyinstaller --noconfirm --onefile --name app_name main.py` создаст бинарник в `dist/`.

## Настройки
- **DBSCAN**: `eps`, `min_samples`, метрика расстояния — редактируются в пресетах или панели параметров.
- **Предобработка**: выбор методов очистки (удаление выбросов, нормализация, заполнение пропусков) в конфигурации пресета.
- **Пути сохранения**: выходные каталоги для отчетов и логов задаются в настройках приложения; по умолчанию используется подкаталог `output/` рядом с исполняемым файлом.
- **Темы**: светлая/темная тема переключаются в системных настройках UI или через конфигурационный файл `config.json`.

## Логи
- Логи пишутся в `logs/app.log` с ротацией по размеру.
- Уровень логирования задается переменной окружения `LOG_LEVEL` (`INFO`/`DEBUG`/`ERROR`).
- Для диагностики сохраните архив с `logs/` и `output/` после проблемного запуска.
